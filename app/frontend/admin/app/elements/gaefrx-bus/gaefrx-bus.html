<!--
  Publish-Subscribe Bus
  @author: jldupont
-->

<script>
  (function() {
    Polymer({
    	
      is: 'gaefrx-bus',
      
      properties: {
    	
    	  debug: {
    		  type: Boolean
    		  ,value: false
    	  }
    	  
      }, //properties
      
      publish: function(type, details){
    	  
    	  if (this.debug)
    	  	console.log("** Publishing: type("+type+") details: ", details);
    	  
    	  this.fire(type, details);
      },
      
      subscribe: function(message_type, callback) {
    	  
    	  this.addEventListener(message_type, function(event) {
    		  
    		  var data = event.detail;
    		  
    		  callback(data, message_type);
    	  });    	  
    	  
      }
      
    });
  })();
</script>
